!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t((e=e||self)["jes-utils"]={})}(this,function(exports){"use strict";var anObject=require("./_an-object"),toObject=require("./_to-object"),toLength=require("./_to-length"),toInteger=require("./_to-integer"),advanceStringIndex=require("./_advance-string-index"),regExpExec=require("./_regexp-exec-abstract"),max=Math.max,min=Math.min,floor=Math.floor,SUBSTITUTION_SYMBOLS=/\$([$&`']|\d\d?|<[^>]*>)/g,SUBSTITUTION_SYMBOLS_NO_NAMED=/\$([$&`']|\d\d?)/g,maybeToString=function(e){return void 0===e?e:String(e)};require("./_fix-re-wks")("replace",2,function(i,o,_,b){return[function(e,t){var r=i(this),n=null==e?void 0:e[o];return void 0!==n?n.call(e,r,t):_.call(String(r),e,t)},function(e,t){var r=b(_,e,this,t);if(r.done)return r.value;var n=anObject(e),i=String(this),o="function"==typeof t;o||(t=String(t));var s=n.global;if(s){var a=n.unicode;n.lastIndex=0}for(var c=[];;){var u=regExpExec(n,i);if(null===u)break;if(c.push(u),!s)break;""===String(u[0])&&(n.lastIndex=advanceStringIndex(i,toLength(n.lastIndex),a))}for(var l="",d=0,g=0;g<c.length;g++){u=c[g];for(var f=String(u[0]),p=max(min(toInteger(u.index),i.length),0),h=[],m=1;m<u.length;m++)h.push(maybeToString(u[m]));var v=u.groups;if(o){var S=[f].concat(h,p,i);void 0!==v&&S.push(v);var x=String(t.apply(void 0,S))}else x=$(f,i,p,h,v,t);d<=p&&(l+=i.slice(d,p)+x,d=p+f.length)}return l+i.slice(d)}];function $(o,s,a,c,u,e){var l=a+o.length,d=c.length,t=SUBSTITUTION_SYMBOLS_NO_NAMED;return void 0!==u&&(u=toObject(u),t=SUBSTITUTION_SYMBOLS),_.call(e,t,function(e,t){var r;switch(t.charAt(0)){case"$":return"$";case"&":return o;case"`":return s.slice(0,a);case"'":return s.slice(l);case"<":r=u[t.slice(1,-1)];break;default:var n=+t;if(0==n)return e;if(d<n){var i=floor(n/10);return 0===i?e:i<=d?void 0===c[i-1]?t.charAt(1):c[i-1]+t.charAt(1):e}r=c[n-1]}return void 0===r?"":r})}});var isRegExp=require("./_is-regexp"),anObject$1=require("./_an-object"),speciesConstructor=require("./_species-constructor"),advanceStringIndex$1=require("./_advance-string-index"),toLength$1=require("./_to-length"),callRegExpExec=require("./_regexp-exec-abstract"),regexpExec=require("./_regexp-exec"),fails=require("./_fails"),$min=Math.min,$push=[].push,$SPLIT="split",LENGTH="length",LAST_INDEX="lastIndex",MAX_UINT32=4294967295,SUPPORTS_Y=!fails(function(){});require("./_fix-re-wks")("split",2,function(i,o,m,v){var S;return S="c"=="abbc"[$SPLIT](/(b)*/)[1]||4!="test"[$SPLIT](/(?:)/,-1)[LENGTH]||2!="ab"[$SPLIT](/(?:ab)*/)[LENGTH]||4!="."[$SPLIT](/(.?)(.?)/)[LENGTH]||1<"."[$SPLIT](/()()/)[LENGTH]||""[$SPLIT](/.?/)[LENGTH]?function(e,t){var r=String(this);if(void 0===e&&0===t)return[];if(!isRegExp(e))return m.call(r,e,t);for(var n,i,o,s=[],a=(e.ignoreCase?"i":"")+(e.multiline?"m":"")+(e.unicode?"u":"")+(e.sticky?"y":""),c=0,u=void 0===t?MAX_UINT32:t>>>0,l=new RegExp(e.source,a+"g");(n=regexpExec.call(l,r))&&!(c<(i=l[LAST_INDEX])&&(s.push(r.slice(c,n.index)),1<n[LENGTH]&&n.index<r[LENGTH]&&$push.apply(s,n.slice(1)),o=n[0][LENGTH],c=i,s[LENGTH]>=u));)l[LAST_INDEX]===n.index&&l[LAST_INDEX]++;return c===r[LENGTH]?!o&&l.test("")||s.push(""):s.push(r.slice(c)),s[LENGTH]>u?s.slice(0,u):s}:"0"[$SPLIT](void 0,0)[LENGTH]?function(e,t){return void 0===e&&0===t?[]:m.call(this,e,t)}:m,[function(e,t){var r=i(this),n=null==e?void 0:e[o];return void 0!==n?n.call(e,r,t):S.call(String(r),e,t)},function(e,t){var r=v(S,e,this,t,S!==m);if(r.done)return r.value;var n=anObject$1(e),i=String(this),o=speciesConstructor(n,RegExp),s=n.unicode,a=(n.ignoreCase?"i":"")+(n.multiline?"m":"")+(n.unicode?"u":"")+(SUPPORTS_Y?"y":"g"),c=new o(SUPPORTS_Y?n:"^(?:"+n.source+")",a),u=void 0===t?MAX_UINT32:t>>>0;if(0===u)return[];if(0===i.length)return null===callRegExpExec(c,i)?[i]:[];for(var l=0,d=0,g=[];d<i.length;){c.lastIndex=SUPPORTS_Y?d:0;var f,p=callRegExpExec(c,SUPPORTS_Y?i:i.slice(d));if(null===p||(f=$min(toLength$1(c.lastIndex+(SUPPORTS_Y?0:d)),i.length))===l)d=advanceStringIndex$1(i,d,s);else{if(g.push(i.slice(l,d)),g.length===u)return g;for(var h=1;h<=p.length-1;h++)if(g.push(p[h]),g.length===u)return g;d=l=f}}return g.push(i.slice(l)),g}]});var anObject$2=require("./_an-object"),sameValue=require("./_same-value"),regExpExec$1=require("./_regexp-exec-abstract");require("./_fix-re-wks")("search",1,function(n,i,s,a){return[function(e){var t=n(this),r=null==e?void 0:e[i];return void 0!==r?r.call(e,t):new RegExp(e)[i](String(t))},function(e){var t=a(s,e,this);if(t.done)return t.value;var r=anObject$2(e),n=String(this),i=r.lastIndex;sameValue(i,0)||(r.lastIndex=0);var o=regExpExec$1(r,n);return sameValue(r.lastIndex,i)||(r.lastIndex=i),null===o?-1:o.index}]});var anObject$3=require("./_an-object"),toLength$2=require("./_to-length"),advanceStringIndex$2=require("./_advance-string-index"),regExpExec$2=require("./_regexp-exec-abstract");require("./_fix-re-wks")("match",1,function(n,i,u,l){return[function(e){var t=n(this),r=null==e?void 0:e[i];return void 0!==r?r.call(e,t):new RegExp(e)[i](String(t))},function(e){var t=l(u,e,this);if(t.done)return t.value;var r=anObject$3(e),n=String(this);if(!r.global)return regExpExec$2(r,n);for(var i,o=r.unicode,s=[],a=r.lastIndex=0;null!==(i=regExpExec$2(r,n));){var c=String(i[0]);""===(s[a]=c)&&(r.lastIndex=advanceStringIndex$2(n,toLength$2(r.lastIndex),o)),a++}return 0===a?null:s}]});var global=require("./_global"),inheritIfRequired=require("./_inherit-if-required"),dP=require("./_object-dp").f,gOPN=require("./_object-gopn").f,isRegExp$1=require("./_is-regexp"),$flags=require("./_flags"),$RegExp=global.RegExp,Base=$RegExp,proto=$RegExp.prototype,re1=/a/g,re2=/a/g,CORRECT_NEW=new $RegExp(re1)!==re1;if(require("./_descriptors")&&(!CORRECT_NEW||require("./_fails")(function(){return re2[require("./_wks")("match")]=!1,$RegExp(re1)!=re1||$RegExp(re2)==re2||"/a/i"!=$RegExp(re1,"i")}))){$RegExp=function(e,t){var r=this instanceof $RegExp,n=isRegExp$1(e),i=void 0===t;return!r&&n&&e.constructor===$RegExp&&i?e:inheritIfRequired(CORRECT_NEW?new Base(n&&!i?e.source:e,t):Base((n=e instanceof $RegExp)?e.source:e,n&&i?$flags.call(e):t),r?this:proto,$RegExp)};for(var proxy=function(t){t in $RegExp||dP($RegExp,t,{configurable:!0,get:function(){return Base[t]},set:function(e){Base[t]=e}})},keys=gOPN(Base),i=0;keys.length>i;)proxy(keys[i++]);proto.constructor=$RegExp,$RegExp.prototype=proto,require("./_redefine")(global,"RegExp",$RegExp)}require("./_set-species")("RegExp");var currentURL=function(){return window.location.href};function getUrlParam(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null,r=new RegExp("(^|&)"+e+"=([^&]*)(&|$)"),n=null;return null!=(n=null==t?window.location.search.substr(1).match(r):t.substr(1).match(r))?decodeURIComponent(n[2]):null}function getUrlParams(e){for(var t=location.href.split("?")[1].split("&"),r={},n=0;n<t.length;n++){var i=t[n].split("="),o=i[0],s=i[1];r[o]=s}return r[e]}function funcUrlDel(e){var t=location,r=t.origin+t.pathname+"?",n=t.search.substr(1);if(-1<n.indexOf(e)){for(var i={},o=n.split("&"),s=0;s<o.length;s++)o[s]=o[s].split("="),i[o[s][0]]=o[s][1];return delete i[e],r+JSON.stringify(i).replace(/["{}]/g,"").replace(/:/g,"").replace(/,/g,"&")}}function getClientHeight(){return document.body.clientHeight&&document.documentElement.clientHeight?document.body.clientHeight<document.documentElement.clientHeight?document.body.clientHeight:document.documentElement.clientHeight:document.body.clientHeight>document.documentElement.clientHeight?document.body.clientHeight:document.documentElement.clientHeight}function getPageViewWidth(){var e=document;return("BackCompat"==e.compatMode?e.body:e.documentElement).clientWidth}function getPageWidth(){var e=document,t=e.body,r=e.documentElement,n="BackCompat"==e.compatMode?t:e.documentElement;return Math.max(r.scrollWidth,t.scrollWidth,n.clientWidth)}function getViewportOffset(){return window.innerWidth?{w:window.innerWidth,h:window.innerHeight}:"BackCompat"===document.compatMode?{w:document.body.clientWidth,h:document.body.clientHeight}:{w:document.documentElement.clientWidth,h:document.documentElement.clientHeight}}function getPageScrollTop(){var e=document;return e.documentElement.scrollTop||e.body.scrollTop}function getPageScrollLeft(){var e=document;return e.documentElement.scrollLeft||e.body.scrollLeft}function launchFullscreen(e){e.requestFullscreen?e.requestFullscreen():e.mozRequestFullScreen?e.mozRequestFullScreen():e.msRequestFullscreen?e.msRequestFullscreen():e.webkitRequestFullscreen&&e.webkitRequestFullScreen()}var scrollToTop=function e(){var t=document.documentElement.scrollTop||document.body.scrollTop;0<t&&(window.requestAnimationFrame(e),window.scrollTo(0,t-t/8))};function openWindow(url,windowName,width,height){var x=parseInt(screen.width/2)-width/2,y=parseInt(screen.height/2)-height/2,isMSIE="Microsoft Internet Explorer"==navigator.appName;if(isMSIE){var p="resizable=1,location=no,scrollbars=no,width=";p+=width,p+=",height=",p+=height,p+=",left=",p+=x,p+=",top=",p+=y,window.open(url,windowName,p)}else{var win=window.open(url,"ZyiisPopup","top="+y+",left="+x+",scrollbars="+scrollbars+",dialog=yes,modal=yes,width="+width+",height="+height+",resizable=no");eval("try { win.resizeTo(width, height); } catch(e) { }"),win.focus()}}var smoothScroll=function(e){document.querySelector(e).scrollIntoView({behavior:"smooth"})},getScrollPosition=function(e){var t=0<arguments.length&&void 0!==e?e:window;return{x:void 0!==t.pageXOffset?t.pageXOffset:t.scrollLeft,y:void 0!==t.pageYOffset?t.pageYOffset:t.scrollTop}};function exitFullscreen(){document.exitFullscreen?document.exitFullscreen():document.msExitFullscreen?document.msExitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitExitFullscreen&&document.webkitExitFullscreen()}function getQueryString(e){var t=new RegExp("(^|&)"+e+"=([^&]*)(&|$)","i"),r=window.location.href,n=r.substring(r.lastIndexOf("?")+1).match(t);return null!=n?unescape(n[2]):null}function AutoResponse(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:750,t=document.documentElement;600<=t.clientWidth?t.style.fontSize="80px":t.style.fontSize=t.clientWidth/e*100+"px"}var Bower=Object.freeze({__proto__:null,currentURL:currentURL,getUrlParam:getUrlParam,getUrlParams:getUrlParams,funcUrlDel:funcUrlDel,getClientHeight:getClientHeight,getPageViewWidth:getPageViewWidth,getPageWidth:getPageWidth,getViewportOffset:getViewportOffset,getPageScrollTop:getPageScrollTop,getPageScrollLeft:getPageScrollLeft,launchFullscreen:launchFullscreen,scrollToTop:scrollToTop,openWindow:openWindow,smoothScroll:smoothScroll,getScrollPosition:getScrollPosition,exitFullscreen:exitFullscreen,getQueryString:getQueryString,AutoResponse:AutoResponse});function deepClone(e,t){if(!isObject())return e;if(t)return JSON.parse(JSON.stringify(e));var r=Array.isArray(e)?[]:{};for(var n in e)r[n]=isObject(e[n])?arguments.callee(r[n]):r[n];return r}function isObject(e){return null!==e&&/object|function/i.test(typeof e)}function getQueryString$1(e){var t=new RegExp("(^|&)"+e+"=([^&]*)(&|$)","i"),r=window.location.href,n=r.substring(r.lastIndexOf("?")+1).match(t);return null!=n?unescape(n[2]):null}var objIsEqual=function(e,t){var r=Object.getOwnPropertyNames(e),n=Object.getOwnPropertyNames(t);if(r.length!=n.length)return!1;for(var i=0;i<r.length;i++){var o=r[i];if(e[o]!==t[o])return!1}return!0},RandomNum=function(e,t){return Math.floor(Math.random()*(t-e+1))+e};function randomNumInteger(e,t){switch(arguments.length){case 1:return parseInt(Math.random()*e+1,10);case 2:return parseInt(Math.random()*(t-e+1)+e,10);default:return 0}}var Common=Object.freeze({__proto__:null,deepClone:deepClone,isObject:isObject,getQueryString:getQueryString$1,objIsEqual:objIsEqual,RandomNum:RandomNum,randomNumInteger:randomNumInteger});function $$(e){return document.querySelector(e)}var hideTag=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return[].concat(t).forEach(function(e){return e.style.display="none"})},getStyle=function(e,t){return getComputedStyle(e)[t]},elementContains=function(e,t){return e!==t&&e.contains(t)},escapeHTML=function(e){e.replace(/[&<>'"]/g,function(e){return{"&":"&amp;","<":"&lt;",">":"&gt;","'":"&#39;",'"':"&quot;"}[e]||e})},Dom=Object.freeze({__proto__:null,$$:$$,hideTag:hideTag,getStyle:getStyle,elementContains:elementContains,escapeHTML:escapeHTML}),isNoWord=function(e){return/^[^A-Za-z]*$/g.test(e)},isCHNAndEN=function(e){return/^((?:[\u3400-\u4DB5\u4E00-\u9FEA\uFA0E\uFA0F\uFA11\uFA13\uFA14\uFA1F\uFA21\uFA23\uFA24\uFA27-\uFA29]|[\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879][\uDC00-\uDFFF]|\uD869[\uDC00-\uDED6\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF34\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0])|(\d))+$/g.test(e)},isPostcode=function(e){return/^(0[1-7]|1[0-356]|2[0-7]|3[0-6]|4[0-7]|5[1-7]|6[1-7]|7[0-5]|8[013-6])\d{4}$/g.test(e)},isWeChatNum=function(e){return/^[a-zA-Z][-_a-zA-Z0-9]{5,19}$/g.test(e)},isColor16=function(e){return/^#?([a-fA-F0-9]{6}|[a-fA-F0-9]{3})$/g.test(e)},isIMEI=function(e){return/^\d{15,17}$/g.test(e)},isHttpAndPort=function(e){return/^((ht|f)tps?:\/\/)?[\w-]+(\.[\w-]+)+:\d{1,5}\/?$/g.test(e)},isRightWebsite=function(e){return/^(((ht|f)tps?):\/\/)?[\w-]+(\.[\w-]+)+([\w.,@?^=%&:/~+#-]*[\w@?^=%&/~+#-])?$/g.test(e)},isEnglishName=function(e){return/(^[a-zA-Z]{1}[a-zA-Z\s]{0,20}[a-zA-Z]{1}$)/g.test(e)},isChineseName=function(e){return/^(?:[\u4e00-\u9fa5·]{2,16})$/g.test(e)},isImageUrl=function(e){return/^https?:\/\/(.+\/)+.+(\.(gif|png|jpg|jpeg|webp|svg|psd|bmp|tif))$/i.test(e)},isVersion=function(e){return/^\d+(?:\.\d+){2}$/g.test(e)},isAccountNumber=function(e){return/^[1-9]\d{9,29}$/g.test(e)},isLicensePlateNumberNER=function(e,t){var r=null,n=/[京津沪渝冀豫云辽黑湘皖鲁新苏浙赣鄂桂甘晋蒙陕吉闽贵粤青藏川宁琼使领 A-Z]{1}[A-HJ-NP-Z]{1}(([0-9]{5}[DF])|([DF][A-HJ-NP-Z0-9][0-9]{4}))$/g,i=/^[京津沪渝冀豫云辽黑湘皖鲁新苏浙赣鄂桂甘晋蒙陕吉闽贵粤青藏川宁琼使领 A-Z]{1}[A-HJ-NP-Z]{1}[A-Z0-9]{4}[A-Z0-9挂学警港澳]{1}$/g;switch(t){case"new":r=n.test(e);break;case"normal":r=i.test(e);break;default:r=n.test(e)||i.test(e)}return r},isMPN=function(e,t){return t?/^(?:(?:\+|00)86)?1(?:(?:3[\d])|(?:4[5-7|9])|(?:5[0-3|5-9])|(?:6[5-7])|(?:7[0-8])|(?:8[\d])|(?:9[1|8|9]))\d{8}$/g.test(e):/^(?:(?:\+|00)86)?1[3-9]\d{9}$/g.test(e)},isLandlineTelephone=function(e){return/\d{3}-\d{8}|\d{4}-\d{7}/g.test(e)},isIDCard=function(e){return/(^\d{8}(0\d|10|11|12)([0-2]\d|30|31)\d{3}$)|(^\d{6}(18|19|20)\d{2}(0\d|10|11|12)([0-2]\d|30|31)\d{3}(\d|X|x)$)/g.test(e)},isPassport=function(e){return/(^[EeKkGgDdSsPpHh]\d{8}$)|(^(([Ee][a-fA-F])|([DdSsPp][Ee])|([Kk][Jj])|([Mm][Aa])|(1[45]))\d{7}$)/g.test(e)},isWebAccount=function(e){return/^[a-zA-Z]\w{4,15}$/g.test(e)},isChineseCharacter=function(e){return/^(?:[\u3400-\u4DB5\u4E00-\u9FEA\uFA0E\uFA0F\uFA11\uFA13\uFA14\uFA1F\uFA21\uFA23\uFA24\uFA27-\uFA29]|[\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879][\uDC00-\uDFFF]|\uD869[\uDC00-\uDED6\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF34\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0])+$/g.test(e)},isQQNum=function(e){return/^[1-9][0-9]{4,10}$/g.test(e)},isNumAndStr=function(e){return/^[A-Za-z0-9]+$/g.test(e)},Regex=Object.freeze({__proto__:null,isNoWord:isNoWord,isCHNAndEN:isCHNAndEN,isPostcode:isPostcode,isWeChatNum:isWeChatNum,isColor16:isColor16,isIMEI:isIMEI,isHttpAndPort:isHttpAndPort,isRightWebsite:isRightWebsite,isEnglishName:isEnglishName,isChineseName:isChineseName,isImageUrl:isImageUrl,isVersion:isVersion,isAccountNumber:isAccountNumber,isLicensePlateNumberNER:isLicensePlateNumberNER,isMPN:isMPN,isLandlineTelephone:isLandlineTelephone,isIDCard:isIDCard,isPassport:isPassport,isWebAccount:isWebAccount,isChineseCharacter:isChineseCharacter,isQQNum:isQQNum,isNumAndStr:isNumAndStr}),LIBRARY=require("./_library"),global$1=require("./_global"),ctx=require("./_ctx"),classof=require("./_classof"),$export=require("./_export"),isObject$1=require("./_is-object"),aFunction=require("./_a-function"),anInstance=require("./_an-instance"),forOf=require("./_for-of"),speciesConstructor$1=require("./_species-constructor"),task=require("./_task").set,microtask=require("./_microtask")(),newPromiseCapabilityModule=require("./_new-promise-capability"),perform=require("./_perform"),userAgent=require("./_user-agent"),promiseResolve=require("./_promise-resolve"),PROMISE="Promise",TypeError=global$1.TypeError,process=global$1.process,versions=process&&process.versions,v8=versions&&versions.v8||"",$Promise=global$1[PROMISE],isNode="process"==classof(process),empty=function(){},Internal,newGenericPromiseCapability,OwnPromiseCapability,Wrapper,newPromiseCapability=newGenericPromiseCapability=newPromiseCapabilityModule.f,USE_NATIVE=!!function(){try{var e=$Promise.resolve(1),t=(e.constructor={})[require("./_wks")("species")]=function(e){e(empty,empty)};return(isNode||"function"==typeof PromiseRejectionEvent)&&e.then(empty)instanceof t&&0!==v8.indexOf("6.6")&&-1===userAgent.indexOf("Chrome/66")}catch(e){}}(),isThenable=function(e){var t;return!(!isObject$1(e)||"function"!=typeof(t=e.then))&&t},notify=function(l,r){if(!l._n){l._n=!0;var n=l._c;microtask(function(){for(var c=l._v,u=1==l._s,e=0,t=function(e){var t,r,n,i=u?e.ok:e.fail,o=e.resolve,s=e.reject,a=e.domain;try{i?(u||(2==l._h&&onHandleUnhandled(l),l._h=1),!0===i?t=c:(a&&a.enter(),t=i(c),a&&(a.exit(),n=!0)),t===e.promise?s(TypeError("Promise-chain cycle")):(r=isThenable(t))?r.call(t,o,s):o(t)):s(c)}catch(e){a&&!n&&a.exit(),s(e)}};n.length>e;)t(n[e++]);l._c=[],l._n=!1,r&&!l._h&&onUnhandled(l)})}},onUnhandled=function(o){task.call(global$1,function(){var e,t,r,n=o._v,i=isUnhandled(o);if(i&&(e=perform(function(){isNode?process.emit("unhandledRejection",n,o):(t=global$1.onunhandledrejection)?t({promise:o,reason:n}):(r=global$1.console)&&r.error&&r.error("Unhandled promise rejection",n)}),o._h=isNode||isUnhandled(o)?2:1),o._a=void 0,i&&e.e)throw e.v})},isUnhandled=function(e){return 1!==e._h&&0===(e._a||e._c).length},onHandleUnhandled=function(t){task.call(global$1,function(){var e;isNode?process.emit("rejectionHandled",t):(e=global$1.onrejectionhandled)&&e({promise:t,reason:t._v})})},$reject=function(e){var t=this;t._d||(t._d=!0,(t=t._w||t)._v=e,t._s=2,t._a||(t._a=t._c.slice()),notify(t,!0))},$resolve=function(e){var r,n=this;if(!n._d){n._d=!0,n=n._w||n;try{if(n===e)throw TypeError("Promise can't be resolved itself");(r=isThenable(e))?microtask(function(){var t={_w:n,_d:!1};try{r.call(e,ctx($resolve,t,1),ctx($reject,t,1))}catch(e){$reject.call(t,e)}}):(n._v=e,n._s=1,notify(n,!1))}catch(e){$reject.call({_w:n,_d:!1},e)}}};USE_NATIVE||($Promise=function(e){anInstance(this,$Promise,PROMISE,"_h"),aFunction(e),Internal.call(this);try{e(ctx($resolve,this,1),ctx($reject,this,1))}catch(e){$reject.call(this,e)}},Internal=function(){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1},Internal.prototype=require("./_redefine-all")($Promise.prototype,{then:function(e,t){var r=newPromiseCapability(speciesConstructor$1(this,$Promise));return r.ok="function"!=typeof e||e,r.fail="function"==typeof t&&t,r.domain=isNode?process.domain:void 0,this._c.push(r),this._a&&this._a.push(r),this._s&&notify(this,!1),r.promise},catch:function(e){return this.then(void 0,e)}}),OwnPromiseCapability=function(){var e=new Internal;this.promise=e,this.resolve=ctx($resolve,e,1),this.reject=ctx($reject,e,1)},newPromiseCapabilityModule.f=newPromiseCapability=function(e){return e===$Promise||e===Wrapper?new OwnPromiseCapability(e):newGenericPromiseCapability(e)}),$export($export.G+$export.W+$export.F*!USE_NATIVE,{Promise:$Promise}),require("./_set-to-string-tag")($Promise,PROMISE),require("./_set-species")(PROMISE),Wrapper=require("./_core")[PROMISE],$export($export.S+$export.F*!USE_NATIVE,PROMISE,{reject:function(e){var t=newPromiseCapability(this);return(0,t.reject)(e),t.promise}}),$export($export.S+$export.F*(LIBRARY||!USE_NATIVE),PROMISE,{resolve:function(e){return promiseResolve(LIBRARY&&this===Wrapper?$Promise:this,e)}}),$export($export.S+$export.F*!(USE_NATIVE&&require("./_iter-detect")(function(e){$Promise.all(e).catch(empty)})),PROMISE,{all:function(e){var s=this,t=newPromiseCapability(s),a=t.resolve,c=t.reject,r=perform(function(){var n=[],i=0,o=1;forOf(e,!1,function(e){var t=i++,r=!1;n.push(void 0),o++,s.resolve(e).then(function(e){r||(r=!0,n[t]=e,--o||a(n))},c)}),--o||a(n)});return r.e&&c(r.v),t.promise},race:function(e){var t=this,r=newPromiseCapability(t),n=r.reject,i=perform(function(){forOf(e,!1,function(e){t.resolve(e).then(r.resolve,n)})});return i.e&&n(i.v),r.promise}});var classof$1=require("./_classof"),test={};test[require("./_wks")("toStringTag")]="z",test+""!="[object z]"&&require("./_redefine")(Object.prototype,"toString",function(){return"[object "+classof$1(this)+"]"},!0),require("./_typed-array")("Uint8",1,function(n){return function(e,t,r){return n(this,e,t,r)}});var dP$1=require("./_object-dp").f,FProto=Function.prototype,nameRE=/^\s*function ([^ (]*)/,NAME="name";NAME in FProto||require("./_descriptors")&&dP$1(FProto,NAME,{configurable:!0,get:function(){try{return(""+this).match(nameRE)[1]}catch(e){return""}}});var fileToBase64=function(e){var t=new FileReader;t.readAsDataURL(e),t.onload=function(e){return e.target.result}},blobToFile=function(e,t){return e.lastModifiedDate=new Date,e.name=t,e},base64ToBlob=function(e){for(var t=e.split(","),r=t[0].match(/:(.*?);/)[1],n=atob(t[1]),i=n.length,o=new Uint8Array(i);i--;)o[i]=n.charCodeAt(i);return new Blob([o],{type:r})},base64ToFile=function(e,t){for(var r=e.split(","),n=r[0].match(/:(.*?);/)[1],i=n.split("/")[1],o=atob(r[1]),s=o.length,a=new Uint8Array(s);s--;)a[s]=o.charCodeAt(s);return new File([a],"".concat(t,".").concat(i),{type:n})};function formatFileSize(e){return e<1024?e+"B":e<1048576?(e/1024).toFixed(2)+"KB":e<1073741824?(e/1048576).toFixed(2)+"MB":(e/1073741824).toFixed(2)+"GB"}function fileToBase64String(s){var a=1<arguments.length&&void 0!==arguments[1]?arguments[1]:["jpg","jpeg","png","gif"],c=2<arguments.length&&void 0!==arguments[2]?arguments[2]:20971520,u=3<arguments.length&&void 0!==arguments[3]?arguments[3]:"文件格式不正确",l=4<arguments.length&&void 0!==arguments[4]?arguments[4]:"文件大小超出限制";return new Promise(function(t,r){for(var n=s.type.split("/")[1].toLowerCase(),e=!1,i=0;i<a.length;i++)if(n===a[i]){e=!0;break}e||r(u),s.size>c&&r(l);var o=new FileReader;o.readAsDataURL(s),o.onload=function(){var e=o.result;t({base64String:e,suffix:n}),r("异常文件，请重新选择")}})}var File$1=Object.freeze({__proto__:null,fileToBase64:fileToBase64,blobToFile:blobToFile,base64ToBlob:base64ToBlob,base64ToFile:base64ToFile,formatFileSize:formatFileSize,fileToBase64String:fileToBase64String});function isYesterday(e){var t=new Date,r=new Date(t-864e5),n=new Date(e);return r.getYear()===n.getYear()&&r.getMonth()===n.getMonth()&&r.getDate()===n.getDate()}function timeToTimestamp(e){return new Date(e).getTime()}var getMonthNum=function(e,t){return new Date(e,t,0).getDate()},timesToYyMmDd=function(e,t,r){var n,i=new Date(e),o=i.getFullYear(),s=i.getMonth()+1,a=i.getDate(),c=i.getHours(),u=i.getMinutes(),l=i.getSeconds();switch(t){case"yyyy-mm-dd":n=o+"-"+s+"-"+a;break;case"yyyy/mm/dd":n=o+"/"+s+"/"+a}switch(r){case"hh":n=" "+n+c;break;case"hh:mm":n=n+c+":"+u;break;case"hh:mm:ss":n=n+c+":"+u+":"+l}return n},_Date=Object.freeze({__proto__:null,isYesterday:isYesterday,timeToTimestamp:timeToTimestamp,getMonthNum:getMonthNum,timesToYyMmDd:timesToYyMmDd}),cookieSet=function(e,t,r){var n=new Date;n.setDate(n.getDate()+r),document.cookie="".concat(e,"=").concat(t,";expires=").concat(n.toUTCString())},cookieGet=function(e){for(var t=unescape(document.cookie).split("; "),r="",n=0;n<t.length;n++){var i=t[n].split("=");if(i[0]===e){r=i[1];break}}return r},cookieRemove=function(e){document.cookie="".concat(encodeURIComponent(e),"=;expires=").concat(new Date)},sessionStorageSet=function(e,t,r){"object"==typeof t&&(t=JSON.stringify(t)),sessionStorage.setItem(e,t),r&&setTimeout(function(){sessionStorage.removeItem(e)},r)},sessionStorageRemove=function(e){sessionStorage.removeItem(e)},sessionStorageGet=function(e){return JSON.parse(sessionStorage.getItem(e))},localStorageSet=function(e,t,r){"object"==typeof t&&(t=JSON.stringify(t)),localStorage.setItem(e,t),r&&setTimeout(function(){localStorage.removeItem(e)},r)},localStorageGet=function(e){return localStorage.getItem(e)},localStorageRemove=function(e){localStorage.removeItem(e)},Storage=Object.freeze({__proto__:null,cookieSet:cookieSet,cookieGet:cookieGet,cookieRemove:cookieRemove,sessionStorageSet:sessionStorageSet,sessionStorageRemove:sessionStorageRemove,sessionStorageGet:sessionStorageGet,localStorageSet:localStorageSet,localStorageGet:localStorageGet,localStorageRemove:localStorageRemove}),$export$1=require("./_export"),$values=require("./_object-to-array")(!1);$export$1($export$1.S,"Object",{values:function(e){return $values(e)}});for(var $iterators=require("./es6.array.iterator"),getKeys=require("./_object-keys"),redefine=require("./_redefine"),global$2=require("./_global"),hide=require("./_hide"),Iterators=require("./_iterators"),wks=require("./_wks"),ITERATOR=wks("iterator"),TO_STRING_TAG=wks("toStringTag"),ArrayValues=Iterators.Array,DOMIterables={CSSRuleList:!0,CSSStyleDeclaration:!1,CSSValueList:!1,ClientRectList:!1,DOMRectList:!1,DOMStringList:!1,DOMTokenList:!0,DataTransferItemList:!1,FileList:!1,HTMLAllCollection:!1,HTMLCollection:!1,HTMLFormElement:!1,HTMLSelectElement:!1,MediaList:!0,MimeTypeArray:!1,NamedNodeMap:!1,NodeList:!0,PaintRequestList:!1,Plugin:!1,PluginArray:!1,SVGLengthList:!1,SVGNumberList:!1,SVGPathSegList:!1,SVGPointList:!1,SVGStringList:!1,SVGTransformList:!1,SourceBufferList:!1,StyleSheetList:!0,TextTrackCueList:!1,TextTrackList:!1,TouchList:!1},collections=getKeys(DOMIterables),i$1=0;i$1<collections.length;i$1++){var NAME$1=collections[i$1],explicit=DOMIterables[NAME$1],Collection=global$2[NAME$1],proto$1=Collection&&Collection.prototype,key;if(proto$1&&(proto$1[ITERATOR]||hide(proto$1,ITERATOR,ArrayValues),proto$1[TO_STRING_TAG]||hide(proto$1,TO_STRING_TAG,NAME$1),Iterators[NAME$1]=ArrayValues,explicit))for(key in $iterators)proto$1[key]||redefine(proto$1,key,$iterators[key],!0)}var checkBrowser=function(){var e=navigator.userAgent,t={trident:-1<e.indexOf("Trident"),presto:-1<e.indexOf("Presto"),webKit:-1<e.indexOf("AppleWebKit"),gecko:-1<e.indexOf("Gecko")&&-1==e.indexOf("KHTML")};return Object.keys(t)[Object.values(t).indexOf(!0)]},checkIosAndroidIpad=function(){var e=navigator.userAgent,t={ios:!!e.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/),android:-1<e.indexOf("Android")||-1<e.indexOf("Linux"),iPad:-1<e.indexOf("iPad")};return Object.keys(t)[Object.values(t).indexOf(!0)]},checkWeixinQqUc=function(){var e=navigator.userAgent,t={weixin:-1<e.indexOf("MicroMessenger"),qq:"qq"==e.match(/QQ/i)&&-1<!e.indexOf("MQQBrowser"),uc:-1<e.indexOf("UCBrowser")};return Object.keys(t)[Object.values(t).indexOf(!0)]},checkIsIphoneX=function(){if(!!navigator.userAgent.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/)&&812<=screen.height)return!0};function OutOsName(e){if(e){var t=e.substr(0,3);return"5.0"===t?"Win 2000":"5.1"===t?"Win XP":"5.2"===t?"Win XP64":"6.0"===t?"Win Vista":"6.1"===t?"Win 7":"6.2"===t?"Win 8":"6.3"===t?"Win 8.1":"10."===t?"Win 10":"Win"}}var detectDeviceType=function(){return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)?"Mobile":"Desktop"},Client=Object.freeze({__proto__:null,checkBrowser:checkBrowser,checkIosAndroidIpad:checkIosAndroidIpad,checkWeixinQqUc:checkWeixinQqUc,checkIsIphoneX:checkIsIphoneX,OutOsName:OutOsName,detectDeviceType:detectDeviceType});require("./es6.regexp.flags");var anObject$4=require("./_an-object"),$flags$1=require("./_flags"),DESCRIPTORS=require("./_descriptors"),TO_STRING="toString",$toString=/./[TO_STRING],define=function(e){require("./_redefine")(RegExp.prototype,TO_STRING,e,!0)};require("./_fails")(function(){return"/a/b"!=$toString.call({source:"a",flags:"b"})})?define(function(){var e=anObject$4(this);return"/".concat(e.source,"/","flags"in e?e.flags:!DESCRIPTORS&&e instanceof RegExp?$flags$1.call(e):void 0)}):$toString.name!=TO_STRING&&define(function(){return $toString.call(this)});var formatMoney=function(e){return e.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")};function getTreeData(e,t){for(var r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:"parentId",n=3<arguments.length&&void 0!==arguments[3]?arguments[3]:"id",i=4<arguments.length&&void 0!==arguments[4]?arguments[4]:"children",o=5<arguments.length?arguments[5]:void 0,s=[],a=0;a<e.length;a++)e[a][r]==t&&(e[a][o]=e[a][n],e[a][i]=getTreeData(e,e[a][n],r,n,i),s.push(e[a]));return s}function inArray(e,t){for(var r=0;r<t.length;r++)if(e===t[r])return r;return-1}function countOccurrences(e,r){return e.reduce(function(e,t){return t===r?e+1:e+0},0)}var Cal=Object.freeze({__proto__:null,formatMoney:formatMoney,getTreeData:getTreeData,inArray:inArray,countOccurrences:countOccurrences});exports.Bower=Bower,exports.Cal=Cal,exports.Client=Client,exports.Common=Common,exports.Dater=_Date,exports.Dom=Dom,exports.File=File$1,exports.Regex=Regex,exports.Storage=Storage,Object.defineProperty(exports,"__esModule",{value:!0})});
