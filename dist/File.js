!function(e,r){"object"==typeof exports&&"undefined"!=typeof module?r(exports):"function"==typeof define&&define.amd?define(["exports"],r):r((e=e||self).File={})}(this,function(e){"use strict";function t(){}function f(e){var r;return!(!d(e)||"function"!=typeof(r=e.then))&&r}function n(l,t){if(!l._n){l._n=!0;var i=l._c;x(function(){for(var s=l._v,a=1==l._s,e=0,r=function(e){var r,t,i,n=a?e.ok:e.fail,o=e.resolve,u=e.reject,c=e.domain;try{n?(a||(2==l._h&&E(l),l._h=1),!0===n?r=s:(c&&c.enter(),r=n(s),c&&(c.exit(),i=!0)),r===e.promise?u(S("Promise-chain cycle")):(t=f(r))?t.call(r,o,u):o(r)):u(s)}catch(e){c&&!i&&c.exit(),u(e)}};i.length>e;)r(i[e++]);l._c=[],l._n=!1,t&&!l._h&&I(l)})}}function o(e){var r=this;r._d||(r._d=!0,(r=r._w||r)._v=e,r._s=2,r._a||(r._a=r._c.slice()),n(r,!0))}var r,i,u,c,s=require("./_library"),a=require("./_global"),l=require("./_ctx"),h=require("./_classof"),_=require("./_export"),d=require("./_is-object"),v=require("./_a-function"),p=require("./_an-instance"),g=require("./_for-of"),q=require("./_species-constructor"),m=require("./_task").set,x=require("./_microtask")(),y=require("./_new-promise-capability"),b=require("./_perform"),w=require("./_user-agent"),j=require("./_promise-resolve"),F="Promise",S=a.TypeError,k=a.process,R=k&&k.versions,B=R&&R.v8||"",P=a[F],T="process"==h(k),A=i=y.f,C=!!function(){try{var e=P.resolve(1),r=(e.constructor={})[require("./_wks")("species")]=function(e){e(t,t)};return(T||"function"==typeof PromiseRejectionEvent)&&e.then(t)instanceof r&&0!==B.indexOf("6.6")&&-1===w.indexOf("Chrome/66")}catch(e){}}(),I=function(o){m.call(a,function(){var e,r,t,i=o._v,n=U(o);if(n&&(e=b(function(){T?k.emit("unhandledRejection",i,o):(r=a.onunhandledrejection)?r({promise:o,reason:i}):(t=a.console)&&t.error&&t.error("Unhandled promise rejection",i)}),o._h=T||U(o)?2:1),o._a=void 0,n&&e.e)throw e.v})},U=function(e){return 1!==e._h&&0===(e._a||e._c).length},E=function(r){m.call(a,function(){var e;T?k.emit("rejectionHandled",r):(e=a.onrejectionhandled)&&e({promise:r,reason:r._v})})},z=function(e){var t,i=this;if(!i._d){i._d=!0,i=i._w||i;try{if(i===e)throw S("Promise can't be resolved itself");(t=f(e))?x(function(){var r={_w:i,_d:!1};try{t.call(e,l(z,r,1),l(o,r,1))}catch(e){o.call(r,e)}}):(i._v=e,i._s=1,n(i,!1))}catch(e){o.call({_w:i,_d:!1},e)}}};C||(P=function(e){p(this,P,F,"_h"),v(e),r.call(this);try{e(l(z,this,1),l(o,this,1))}catch(e){o.call(this,e)}},(r=function(){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1}).prototype=require("./_redefine-all")(P.prototype,{then:function(e,r){var t=A(q(this,P));return t.ok="function"!=typeof e||e,t.fail="function"==typeof r&&r,t.domain=T?k.domain:void 0,this._c.push(t),this._a&&this._a.push(t),this._s&&n(this,!1),t.promise},catch:function(e){return this.then(void 0,e)}}),u=function(){var e=new r;this.promise=e,this.resolve=l(z,e,1),this.reject=l(o,e,1)},y.f=A=function(e){return e===P||e===c?new u:i(e)}),_(_.G+_.W+_.F*!C,{Promise:P}),require("./_set-to-string-tag")(P,F),require("./_set-species")(F),c=require("./_core")[F],_(_.S+_.F*!C,F,{reject:function(e){var r=A(this);return(0,r.reject)(e),r.promise}}),_(_.S+_.F*(s||!C),F,{resolve:function(e){return j(s&&this===c?P:this,e)}}),_(_.S+_.F*!(C&&require("./_iter-detect")(function(e){P.all(e).catch(t)})),F,{all:function(e){var u=this,r=A(u),c=r.resolve,s=r.reject,t=b(function(){var i=[],n=0,o=1;g(e,!1,function(e){var r=n++,t=!1;i.push(void 0),o++,u.resolve(e).then(function(e){t||(t=!0,i[r]=e,--o||c(i))},s)}),--o||c(i)});return t.e&&s(t.v),r.promise},race:function(e){var r=this,t=A(r),i=t.reject,n=b(function(){g(e,!1,function(e){r.resolve(e).then(t.resolve,i)})});return n.e&&i(n.v),t.promise}});var D=require("./_classof"),M={};M[require("./_wks")("toStringTag")]="z",M+""!="[object z]"&&require("./_redefine")(Object.prototype,"toString",function(){return"[object "+D(this)+"]"},!0),require("./_typed-array")("Uint8",1,function(i){return function(e,r,t){return i(this,e,r,t)}});var O=require("./_an-object"),L=require("./_to-length"),G=require("./_advance-string-index"),H=require("./_regexp-exec-abstract");require("./_fix-re-wks")("match",1,function(i,n,a,l){return[function(e){var r=i(this),t=null==e?void 0:e[n];return void 0!==t?t.call(e,r):new RegExp(e)[n](String(r))},function(e){var r=l(a,e,this);if(r.done)return r.value;var t=O(e),i=String(this);if(!t.global)return H(t,i);for(var n,o=t.unicode,u=[],c=t.lastIndex=0;null!==(n=H(t,i));){var s=String(n[0]);""===(u[c]=s)&&(t.lastIndex=G(i,L(t.lastIndex),o)),c++}return 0===c?null:u}]});var K=require("./_is-regexp"),W=require("./_an-object"),J=require("./_species-constructor"),N=require("./_advance-string-index"),Q=require("./_to-length"),V=require("./_regexp-exec-abstract"),X=require("./_regexp-exec"),Y=require("./_fails"),Z=Math.min,$=[].push,ee="split",re="length",te="lastIndex",ie=4294967295,ne=!Y(function(){});require("./_fix-re-wks")("split",2,function(n,o,p,g){var q;return q="c"=="abbc"[ee](/(b)*/)[1]||4!="test"[ee](/(?:)/,-1)[re]||2!="ab"[ee](/(?:ab)*/)[re]||4!="."[ee](/(.?)(.?)/)[re]||1<"."[ee](/()()/)[re]||""[ee](/.?/)[re]?function(e,r){var t=String(this);if(void 0===e&&0===r)return[];if(!K(e))return p.call(t,e,r);for(var i,n,o,u=[],c=(e.ignoreCase?"i":"")+(e.multiline?"m":"")+(e.unicode?"u":"")+(e.sticky?"y":""),s=0,a=void 0===r?ie:r>>>0,l=new RegExp(e.source,c+"g");(i=X.call(l,t))&&!(s<(n=l[te])&&(u.push(t.slice(s,i.index)),1<i[re]&&i.index<t[re]&&$.apply(u,i.slice(1)),o=i[0][re],s=n,u[re]>=a));)l[te]===i.index&&l[te]++;return s===t[re]?!o&&l.test("")||u.push(""):u.push(t.slice(s)),u[re]>a?u.slice(0,a):u}:"0"[ee](void 0,0)[re]?function(e,r){return void 0===e&&0===r?[]:p.call(this,e,r)}:p,[function(e,r){var t=n(this),i=null==e?void 0:e[o];return void 0!==i?i.call(e,t,r):q.call(String(t),e,r)},function(e,r){var t=g(q,e,this,r,q!==p);if(t.done)return t.value;var i=W(e),n=String(this),o=J(i,RegExp),u=i.unicode,c=(i.ignoreCase?"i":"")+(i.multiline?"m":"")+(i.unicode?"u":"")+(ne?"y":"g"),s=new o(ne?i:"^(?:"+i.source+")",c),a=void 0===r?ie:r>>>0;if(0==a)return[];if(0===n.length)return null===V(s,n)?[n]:[];for(var l=0,f=0,h=[];f<n.length;){s.lastIndex=ne?f:0;var _,d=V(s,ne?n:n.slice(f));if(null===d||(_=Z(Q(s.lastIndex+(ne?0:f)),n.length))===l)f=N(n,f,u);else{if(h.push(n.slice(l,f)),h.length===a)return h;for(var v=1;v<=d.length-1;v++)if(h.push(d[v]),h.length===a)return h;f=l=_}}return h.push(n.slice(l)),h}]});var oe=require("./_object-dp").f,ue=Function.prototype,ce=/^\s*function ([^ (]*)/;"name"in ue||require("./_descriptors")&&oe(ue,"name",{configurable:!0,get:function(){try{return(""+this).match(ce)[1]}catch(e){return""}}});e.base64ToBlob=function(e){for(var r=e.split(","),t=r[0].match(/:(.*?);/)[1],i=atob(r[1]),n=i.length,o=new Uint8Array(n);n--;)o[n]=i.charCodeAt(n);return new Blob([o],{type:t})},e.base64ToFile=function(e,r){for(var t=e.split(","),i=t[0].match(/:(.*?);/)[1],n=i.split("/")[1],o=atob(t[1]),u=o.length,c=new Uint8Array(u);u--;)c[u]=o.charCodeAt(u);return new File([c],"".concat(r,".").concat(n),{type:i})},e.blobToFile=function(e,r){return e.lastModifiedDate=new Date,e.name=r,e},e.fileToBase64=function(e){var r=new FileReader;r.readAsDataURL(e),r.onload=function(e){return e.target.result}},e.fileToBase64String=function(u){var c=1<arguments.length&&void 0!==arguments[1]?arguments[1]:["jpg","jpeg","png","gif"],s=2<arguments.length&&void 0!==arguments[2]?arguments[2]:20971520,a=3<arguments.length&&void 0!==arguments[3]?arguments[3]:"文件格式不正确",l=4<arguments.length&&void 0!==arguments[4]?arguments[4]:"文件大小超出限制";return new Promise(function(r,t){for(var i=u.type.split("/")[1].toLowerCase(),e=!1,n=0;n<c.length;n++)if(i===c[n]){e=!0;break}e||t(a),u.size>s&&t(l);var o=new FileReader;o.readAsDataURL(u),o.onload=function(){var e=o.result;r({base64String:e,suffix:i}),t("异常文件，请重新选择")}})},e.formatFileSize=function(e){return e<1024?e+"B":e<1048576?(e/1024).toFixed(2)+"KB":e<1073741824?(e/1048576).toFixed(2)+"MB":(e/1073741824).toFixed(2)+"GB"},Object.defineProperty(e,"__esModule",{value:!0})});
